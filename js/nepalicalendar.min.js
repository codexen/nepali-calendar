function daysInMonth(e,n){return nepali_dates[n][0][e]}function unicodeText(e){var n={0:"०",1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९"};return e.toString().replace(/[0123456789]/g,e=>n[e])}function englishText(e){var n={"०":"0","१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9"};return e.toString().replace(/[०१२३४५६७८९]/g,e=>n[e])}function init(e){e.addClass("xen-calendar");for(var n='<div class="xen-card"><div class="xen-card-header"><div class="xen-form-wrapper"><button class="xen-btn-prev" id="previous" onclick="previous(this)"><</button><form class="xen-form-inline"><select class="xen-calendar-month" name="month" id="month" onchange="jump(this)"><option value=0>बैशाख</option><option value=1>जेठ</option><option value=2>असार</option><option value=3>श्रावण</option><option value=4>भदौ</option><option value=5>आश्विन</option><option value=6>कार्तिक</option><option value=7>मंसिर</option><option value=8>पुष</option><option value=9>माघ</option><option value=10>फाल्गुन</option><option value=11>चैत्र</option></select><select class="xen-calendar-year" name="year" id="year" onchange="jump(this)">',t=2e3;t<2091;t++)n+='<option value="'+t+'">'+unicodeText(t)+"</option>";n+='</select></form><button class="xen-btn" id="next" onclick="next(this)">></button></div></div><table border="1" class="xen-calendar-table" id="calendar"><thead><tr><th>आइतवार <br /> Sunday</th><th>सोमवार <br /> Monday</th><th>मङ्गलवार <br /> Tuesday</th><th>बुधवार <br /> Wednesday</th><th>बिहिवार <br /> Thursday</th><th>शुक्रवार <br /> Friday</th><th>शनिवार <br /> Saturday</th></tr></thead><tbody class="calendar-body"></tbody></table></div>',e.html(n),showCalendar(e,currentMonth,currentYear)}function showCalendar(e,n,t){if(void 0===nepali_dates[t])return!1;let a=nepali_dates[t][1][n]-1;tbl=e.find(".xen-card").find(".calendar-body"),tbl.html("");var r=e.find(".xen-card").find(".xen-calendar-year"),o=e.find(".xen-card").find(".xen-calendar-month");r.val(t),o.val(n),tbl.each(function(){let e=1;for(let d=0;d<6;d++){let c=document.createElement("tr");for(let s=0;s<7;s++)if(0===d&&s<a)cell=document.createElement("td"),cellText=document.createTextNode(""),cell.appendChild(cellText),c.appendChild(cell);else{if(e>daysInMonth(n,t))break;cell=document.createElement("td"),e===currentDate&&t===currentYear&&n===currentMonth&&cell.classList.add("xen-bg-today"),cell.classList.add("xen-cell");var r=unicodeText(e),o=nep_to_eng(t,n+1,e),i=document.createElement("span");i.classList.add("nepali-date"),i.innerHTML=r;var l=document.createElement("span");l.classList.add("english-date"),l.innerHTML=o.date,cell.appendChild(i),cell.appendChild(l),c.appendChild(cell),e++}this.appendChild(c)}})}function next(e){var n=e.closest(".xen-card"),t=parseInt($(n).find(".xen-calendar-year").val()),a=parseInt($(n).find(".xen-calendar-month").val());t=11===a?t+1:t,showCalendar($(n).parent(),a=(a+1)%12,t)}function previous(e){var n=e.closest(".xen-card"),t=parseInt($(n).find(".xen-calendar-year").val()),a=parseInt($(n).find(".xen-calendar-month").val());t=0===a?t-1:t,showCalendar($(n).parent(),a=0===a?11:a-1,t)}function jump(e){var n=e.closest(".xen-card"),t=parseInt($(n).find(".xen-calendar-year").val()),a=parseInt($(n).find(".xen-calendar-month").val());showCalendar($(n).parent(),a,t)}function is_range_nep(e,n,t){if(e<2e3||e>2089){return!1}if(n<1||n>12){return!1}if(t<1||t>32){return!1}return!0}function is_range_eng(e,n,t){if(e<1944||e>2033){return!1}if(n<1||n>12){return!1}if(t<1||t>31){return!1}return!0}function is_leap_year(e){return e%100==0?e%400==0:e%4==0}function nep_to_eng(e,n,t){var a=0,r=0,o=3,i=0,l=0,d=0,c=2e3,s=[0,31,28,31,30,31,30,31,31,30,31,30,31],u=[0,31,29,31,30,31,30,31,31,30,31,30,31];if(!1===this.is_range_nep(e,n,t))return!1;for(d=0;d<e-2e3;d++){for(var p=0;p<=11;p++)r+=nepali_dates[c][0][p];c++}for(p=0;p<n-1;p++)r+=nepali_dates[c][0][p];for(r+=t,a=13,i=4,l=1943;0!=r;)++a>(this.is_leap_year(l)?u[i]:s[i])&&(a=1,++i>12&&(l++,i=1)),++o>7&&(o=1),r--;var h=[];return h.year=l,h.month=i,h.date=a,h}function eng_to_nep(e,n,t){if(0==this.is_range_eng(e,n,t))return!1;var a=[31,28,31,30,31,30,31,31,30,31,30,31],r=[31,29,31,30,31,30,31,31,30,31,30,31],o=0,i=0,l=6,d=0,c=0,s=0,u=0;for(s=0;s<e-1944;s++)if(1==is_leap_year(1944+s))for(u=0;u<12;u++)o+=r[u];else for(u=0;u<12;u++)o+=a[u];for(s=0;s<n;s++)1==is_leap_year(e)?o+=r[s]:o+=a[s];for(o+=t,s=2e3,u=9,i=16,d=9,c=2e3;0!=o;)++i>nepali_dates[s][0][u-1]&&(d++,i=1,u++),++l>7&&(l=1),d>12&&(c++,d=1),u>12&&(u=1,s++),o--;var p=[];return p.year=c,p.month=d,p.date=i,p}months=["Baishak","Jestha","Ashad","Shrawn","Bhadra","Ashwin","kartik","Mangshir","Poush","Magh","Falgun","Chaitra"],nepali_dates={2000:[[30,32,31,32,31,30,30,30,29,30,29,31],[4,6,3,6,3,6,1,3,5,6,1,2]],2001:[[31,31,32,31,31,31,30,29,30,29,30,30],[5,1,4,1,4,7,3,5,6,1,2,4]],2002:[[31,31,32,32,31,30,30,29,30,29,30,30],[6,2,5,2,6,2,4,6,7,2,3,5]],2003:[[31,32,31,32,31,30,30,30,29,29,30,31],[7,3,7,3,7,3,5,7,2,3,4,6]],2004:[[30,32,31,32,31,30,30,30,29,30,29,31],[2,4,1,4,1,4,6,1,3,4,6,7]],2005:[[31,31,32,31,31,31,30,29,30,29,30,30],[3,6,2,6,2,5,1,3,4,6,7,2]],2006:[[31,31,32,32,31,30,30,29,30,29,30,30],[4,7,3,7,4,7,2,4,5,7,1,3]],2007:[[31,32,31,32,31,30,30,30,29,29,30,31],[5,1,5,1,5,1,3,5,7,1,2,4]],2008:[[31,31,31,32,31,31,29,30,30,29,29,31],[7,3,6,2,6,2,5,6,1,3,4,5]],2009:[[31,31,32,31,31,31,30,29,30,29,30,30],[1,4,7,4,7,3,6,1,2,4,5,7]],2010:[[31,31,32,32,31,30,30,29,30,29,30,30],[2,5,1,5,2,5,7,2,3,5,6,1]],2011:[[31,32,31,32,31,30,30,30,29,29,30,31],[3,6,3,6,3,6,1,3,5,6,7,2]],2012:[[31,31,31,32,31,31,29,30,30,29,30,30],[5,1,4,7,4,7,3,4,6,1,2,4]],2013:[[31,31,32,31,31,31,30,29,30,29,30,30],[6,2,5,2,5,1,4,6,7,2,3,5]],2014:[[31,31,32,32,31,30,30,29,30,29,30,30],[7,3,6,3,7,3,5,7,1,3,4,6]],2015:[[31,32,31,32,31,30,30,30,29,29,30,31],[1,4,1,4,1,4,6,1,3,4,5,7]],2016:[[31,31,31,32,31,31,29,30,30,29,30,30],[3,6,2,5,2,5,1,2,4,6,7,2]],2017:[[31,31,32,31,31,31,30,29,30,29,30,30],[4,7,3,7,3,6,2,4,5,7,1,3]],2018:[[31,32,31,32,31,30,30,29,30,29,30,30],[5,1,5,1,5,1,3,5,6,1,2,4]],2019:[[31,32,31,32,31,30,30,30,29,30,29,31],[6,2,6,2,6,2,4,6,1,2,4,5]],2020:[[31,31,31,32,31,31,30,29,30,29,30,30],[1,4,7,3,7,3,6,1,2,4,5,7]],2021:[[31,31,32,31,31,31,30,29,30,29,30,30],[2,5,1,5,1,4,7,2,3,5,6,1]],2022:[[31,32,31,32,31,30,30,30,29,29,30,30],[3,6,3,6,3,6,1,3,5,6,7,2]],2023:[[31,32,31,32,31,30,30,30,29,30,29,31],[4,7,4,7,4,7,2,4,6,7,2,3]],2024:[[31,31,31,32,31,31,30,29,30,29,30,30],[6,2,5,1,5,1,4,6,7,2,3,5]],2025:[[31,31,32,31,31,31,30,29,30,29,30,30],[7,3,6,3,6,2,5,7,1,3,4,6]],2026:[[31,32,31,32,31,30,30,30,29,29,30,31],[1,4,1,4,1,4,6,1,3,4,5,7]],2027:[[30,32,31,32,31,30,30,30,29,30,29,31],[3,5,2,5,2,5,7,2,4,5,7,1]],2028:[[31,31,32,31,31,31,30,29,30,29,30,30],[4,7,3,7,3,6,2,4,5,7,1,3]],2029:[[31,31,32,31,32,30,30,29,30,29,30,30],[5,1,4,1,4,1,3,5,6,1,2,4]],2030:[[31,32,31,32,31,30,30,30,29,29,30,31],[6,2,6,2,6,2,4,6,1,2,3,5]],2031:[[30,32,31,32,31,30,30,30,29,30,29,31],[1,3,7,3,7,3,5,7,2,3,5,6]],2032:[[31,31,32,31,31,31,30,29,30,29,30,30],[2,5,1,5,1,4,7,2,3,5,6,1]],2033:[[31,31,32,32,31,30,30,29,30,29,30,30],[3,6,2,6,3,6,1,3,4,6,7,2]],2034:[[31,32,31,32,31,30,30,30,29,29,30,31],[4,7,4,7,4,7,2,4,6,7,1,3]],2035:[[30,32,31,32,31,31,29,30,30,29,29,31],[6,1,5,1,5,1,4,5,7,2,3,4]],2036:[[31,31,32,31,31,31,30,29,30,29,30,30],[7,3,6,3,6,2,5,7,1,3,4,6]],2037:[[31,31,32,32,31,30,30,29,30,29,30,30],[1,4,7,4,1,4,6,1,2,4,5,7]],2038:[[31,32,31,32,31,30,30,30,29,29,30,31],[2,5,2,5,2,5,7,2,4,5,6,1]],2039:[[31,31,31,32,31,31,29,30,30,29,30,30],[4,7,3,6,3,6,2,3,5,7,1,3]],2040:[[31,31,32,31,31,31,30,29,30,29,30,30],[5,1,4,1,4,7,3,5,6,1,2,4]],2041:[[31,31,32,32,31,30,30,29,30,29,30,30],[6,2,5,2,6,2,4,6,7,2,3,5]],2042:[[31,32,31,32,31,30,30,30,29,29,30,31],[7,3,7,3,7,3,5,7,2,3,4,6]],2043:[[31,31,31,32,31,31,29,30,30,29,30,30],[2,5,1,4,1,4,7,1,3,5,6,1]],2044:[[31,31,32,31,31,31,30,29,30,29,30,30],[3,6,2,6,2,5,1,3,4,6,7,2]],2045:[[31,32,31,32,31,30,30,29,30,29,30,30],[4,7,4,7,4,7,2,4,5,7,1,3]],2046:[[31,32,31,32,31,30,30,30,29,29,30,31],[5,1,5,1,5,1,3,5,7,1,2,4]],2047:[[31,31,31,32,31,31,30,29,30,29,30,30],[7,3,6,2,6,2,5,7,1,3,4,6]],2048:[[31,31,32,31,31,31,30,29,30,29,30,30],[1,4,7,4,7,3,6,1,2,4,5,7]],2049:[[31,32,31,32,31,30,30,30,29,29,30,30],[2,5,2,5,2,5,7,2,4,5,6,1]],2050:[[31,32,31,32,31,30,30,30,29,30,29,31],[3,6,3,6,3,6,1,3,5,6,1,2]],2051:[[31,31,31,32,31,31,30,29,30,29,30,30],[5,1,4,7,4,7,3,5,6,1,2,4]],2052:[[31,31,32,31,31,31,30,29,30,29,30,30],[6,2,5,2,5,1,4,6,7,2,3,5]],2053:[[31,32,31,32,31,30,30,30,29,29,30,30],[7,3,7,3,7,3,5,7,2,3,4,6]],2054:[[31,32,31,32,31,30,30,30,29,30,29,31],[1,4,1,4,1,4,6,1,3,4,6,7]],2055:[[31,31,32,31,31,31,30,29,30,29,30,30],[3,6,2,6,2,5,1,3,4,6,7,2]],2056:[[31,31,32,31,32,30,30,29,30,29,30,30],[4,7,3,7,3,7,2,4,5,7,1,3]],2057:[[31,32,31,32,31,30,30,30,29,29,30,31],[5,1,5,1,5,1,3,5,7,1,2,4]],2058:[[30,32,31,32,31,30,30,30,29,30,29,31],[7,2,6,2,6,2,4,6,1,2,4,5]],2059:[[31,31,32,31,31,31,30,29,30,29,30,30],[1,4,7,4,7,3,6,1,2,4,5,7]],2060:[[31,31,32,32,31,30,30,29,30,29,30,30],[2,5,1,5,2,5,7,2,3,5,6,1]],2061:[[31,32,31,32,31,30,30,30,29,29,30,31],[3,6,3,6,3,6,1,3,5,6,7,2]],2062:[[30,32,31,32,31,31,29,30,29,30,29,31],[5,7,4,7,4,7,3,4,6,7,2,3]],2063:[[31,31,32,31,31,31,30,29,30,29,30,30],[6,2,5,2,5,1,4,6,7,2,3,5]],2064:[[31,31,32,32,31,30,30,29,30,29,30,30],[7,3,6,3,7,3,5,7,1,3,4,6]],2065:[[31,32,31,32,31,30,30,30,29,29,30,31],[1,4,1,4,1,4,6,1,3,4,5,7]],2066:[[31,31,31,32,31,31,29,30,30,29,29,31],[3,6,2,5,2,5,1,2,4,6,7,1]],2067:[[31,31,32,31,31,31,30,29,30,29,30,30],[4,7,3,7,3,6,2,4,5,7,1,3]],2068:[[31,31,32,32,31,30,30,29,30,29,30,30],[5,1,4,1,5,1,3,5,6,1,2,4]],2069:[[31,32,31,32,31,30,30,30,29,29,30,31],[6,2,6,2,6,2,4,6,1,2,3,5]],2070:[[31,31,31,32,31,31,29,30,30,29,30,30],[1,4,7,3,7,3,6,7,2,4,5,7]],2071:[[31,31,32,31,31,31,30,29,30,29,30,30],[2,5,1,5,1,4,7,2,3,5,6,1]],2072:[[31,32,31,32,31,30,30,29,30,29,30,30],[3,6,3,6,3,6,1,3,4,6,7,2]],2073:[[31,32,31,32,31,30,30,30,29,29,30,31],[4,7,4,7,4,7,2,4,6,7,1,3]],2074:[[31,31,31,32,31,31,30,29,30,29,30,30],[6,2,5,1,5,1,4,6,7,2,3,5]],2075:[[31,31,32,31,31,31,30,29,30,29,30,30],[7,3,6,3,6,2,5,7,1,3,4,6]],2076:[[31,32,31,32,31,30,30,30,29,29,30,30],[1,4,1,4,1,4,6,1,3,4,5,7]],2077:[[31,32,31,32,31,30,30,30,29,30,29,31],[2,5,2,5,2,5,7,2,4,5,7,1]],2078:[[31,31,31,32,31,31,30,29,30,29,30,30],[4,7,3,6,3,6,2,4,5,7,1,3]],2079:[[31,31,32,31,31,31,30,29,30,29,30,30],[5,1,4,1,4,7,3,5,6,1,2,4]],2080:[[31,32,31,32,31,30,30,30,29,29,30,30],[6,2,6,2,6,2,4,6,1,2,3,5]],2081:[[31,31,32,32,31,30,30,30,29,30,30,30],[7,3,6,3,7,3,5,7,2,3,5,7]],2082:[[30,32,31,32,31,30,30,30,29,30,30,30],[2,4,1,4,1,4,6,1,3,4,6,1]],2083:[[31,31,32,31,31,30,30,30,29,30,30,30],[3,6,2,6,2,5,7,2,4,5,7,2]],2084:[[31,31,32,31,31,30,30,30,29,30,30,30],[4,7,3,7,3,6,1,3,5,6,1,3]],2085:[[31,32,31,32,30,31,30,30,29,30,30,30],[5,1,5,1,5,7,3,5,7,1,3,5]],2086:[[30,32,31,32,31,30,30,30,29,30,30,30],[7,2,6,2,6,2,4,6,1,2,4,6]],2087:[[31,31,32,31,31,31,30,30,29,30,30,30],[1,4,7,4,7,3,6,1,3,4,6,1]],2088:[[30,31,32,32,30,31,30,30,29,30,30,30],[3,5,1,5,2,4,7,2,4,5,7,2]],2089:[[30,32,31,32,31,30,30,30,29,30,30,30],[4,6,3,6,3,6,1,3,5,6,1,3]],2090:[[30,32,31,32,31,30,30,30,29,30,30,30],[5,7,4,7,4,7,2,4,6,7,2,4]]},today=new Date,nepali_today=eng_to_nep(today.getFullYear(),today.getMonth(),today.getDate()),currentDate=nepali_today.date,currentMonth=nepali_today.month-1,currentYear=nepali_today.year,$(document).on("click",".xen-cell",function(){$(".xen-cell").removeClass("xen-bg-info"),$(this).addClass("xen-bg-info");var e=englishText($(this).html());e=("0"+e).slice(-2);var n=currentMonth+1;n=("0"+n).slice(-2),$(this).closest(".xen-card").prev(".xen-calendar").val(e+"/"+n+"/"+currentYear)}),function(e){e.fn.nepalicalendar=function(){for(var n=0;n<this.length;n++)init(e(this[n]));return this}}(jQuery);